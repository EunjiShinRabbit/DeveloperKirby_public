{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\SemiProject\\\\DK_front_v2\\\\src\\\\components\\\\WriteDetail.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport CommentList from \"./CommentList\";\nimport writeProfileImg from \"../resource/kriby_study2.png\";\nimport goodIcon from \"../resource/kirby_icon6.png\";\nimport commentIcon from \"../resource/kirby_icon7.png\";\nimport tomatoIcon from \"../resource/kirby_icon6-1.png\";\nimport writeIcon from \"../resource/kirby_icon8.png\";\nimport { useState, useEffect } from \"react\";\nimport api from \"../api/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst WriteDetail = props => {\n  _s();\n  const getWriteNum = window.localStorage.getItem(\"Detail\");\n  const getMemberNum = window.localStorage.getItem(\"memberNum\");\n  const [writeDetail, setWriteDetail] = useState('');\n  const [countGood, setCountGood] = useState('');\n  const [isChange, setIsChange] = useState(false);\n  const [isGoodChange, setIsGoodChange] = useState(false);\n  const onClickGood = async () => {\n    try {\n      const response = await api.alreadyGood(getMemberNum, getWriteNum);\n      if (response.data.cnt === 1) alert(\"이미 좋아요를 누른 게시글입니다.\");else if (response.data.cnt === 0) {\n        await api.addGood(getWriteNum, getMemberNum);\n        setIsGoodChange(!isGoodChange);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  };\n  const writeDelete = async () => {\n    try {\n      await api.writeDelete(getWriteNum);\n      alert(\"게시글이 성공적으로 삭제되었습니다!\");\n      window.location.replace(\"/board\");\n    } catch (e) {\n      console.log(e);\n    }\n  };\n  useEffect(() => {\n    const writeData = async () => {\n      try {\n        const response = await api.writeDetail(getWriteNum);\n        setWriteDetail(response.data);\n        console.log(38);\n        console.log(response.data);\n        console.log(response.data[0].boardName);\n        localStorage.setItem(\"Board\", response.data[0].boardName);\n        props.changeIsChange(!props.isChange);\n      } catch (e) {\n        console.log(e);\n      }\n    };\n    writeData();\n  }, [isGoodChange]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"writedetail\",\n    children: [writeDetail && writeDetail.map(write => /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wname\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: write.writeName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"writeprofile\",\n          children: [write.pfImg ? /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"writePfImg\",\n            src: write.pfImg,\n            alt: \"\\uB313\\uAE00 \\uD504\\uB85C\\uD544 \\uC774\\uBBF8\\uC9C0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"writePfImg\",\n            src: writeProfileImg,\n            alt: \"\\uAC8C\\uC2DC\\uAE00 \\uAE30\\uBCF8 \\uD504\\uB85C\\uD544 \\uC774\\uBBF8\\uC9C0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"time\", {\n            children: write.writeDate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"nickname\",\n            children: write.nickname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 11\n          }, this), write.nickname == localStorage.getItem(\"userNickname\") && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"writedelete\",\n            onClick: () => {\n              writeDelete();\n            },\n            children: \"\\uC0AD\\uC81C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"wcontent\",\n        children: write.writeContent\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"status\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"good\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: goodIcon,\n            alt: \"\\uC88B\\uC544\\uC694\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: write.countGood\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"comment\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: commentIcon,\n            alt: \"\\uB313\\uAE00\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: write.countComments\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"goodbtn\",\n        onClick: onClickGood,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: tomatoIcon,\n          alt: \"\\uB9E5\\uC2DC\\uBA48\\uD1A0\\uB9C8\\uD1A0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: write.countGood\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true)), /*#__PURE__*/_jsxDEV(CommentList, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n_s(WriteDetail, \"i+hWTnW9O21la8WcqHXtKaBifrc=\");\n_c = WriteDetail;\nexport default WriteDetail;\nvar _c;\n$RefreshReg$(_c, \"WriteDetail\");","map":{"version":3,"names":["React","CommentList","writeProfileImg","goodIcon","commentIcon","tomatoIcon","writeIcon","useState","useEffect","api","WriteDetail","props","getWriteNum","window","localStorage","getItem","getMemberNum","writeDetail","setWriteDetail","countGood","setCountGood","isChange","setIsChange","isGoodChange","setIsGoodChange","onClickGood","response","alreadyGood","data","cnt","alert","addGood","e","console","log","writeDelete","location","replace","writeData","boardName","setItem","changeIsChange","map","write","writeName","pfImg","writeDate","nickname","writeContent","countComments"],"sources":["C:/Users/User/SemiProject/DK_front_v2/src/components/WriteDetail.js"],"sourcesContent":["import React from 'react';\r\nimport CommentList from \"./CommentList\";\r\nimport writeProfileImg from \"../resource/kriby_study2.png\";\r\nimport goodIcon from \"../resource/kirby_icon6.png\";\r\nimport commentIcon from \"../resource/kirby_icon7.png\"\r\nimport tomatoIcon from \"../resource/kirby_icon6-1.png\";\r\nimport writeIcon from \"../resource/kirby_icon8.png\";\r\nimport { useState, useEffect } from \"react\";\r\nimport api from \"../api/api\";\r\nconst WriteDetail = (props) =>{\r\n  const getWriteNum = window.localStorage.getItem(\"Detail\");\r\n  const getMemberNum = window.localStorage.getItem(\"memberNum\");\r\n  const [writeDetail, setWriteDetail] = useState('');\r\n  const [countGood, setCountGood] = useState('');\r\n\r\n  const [isChange, setIsChange] = useState(false);\r\n  const [isGoodChange, setIsGoodChange] = useState(false);\r\n\r\n  const onClickGood = async () => {\r\n    try {\r\n      const response = await api.alreadyGood(getMemberNum, getWriteNum);\r\n      if(response.data.cnt === 1) alert(\"이미 좋아요를 누른 게시글입니다.\");\r\n      else if(response.data.cnt === 0) \r\n      {\r\n        await api.addGood(getWriteNum, getMemberNum);\r\n        setIsGoodChange(!isGoodChange);\r\n      }\r\n    } catch(e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const writeDelete = async () => {\r\n    try {\r\n      await api.writeDelete(getWriteNum);\r\n      alert(\"게시글이 성공적으로 삭제되었습니다!\")\r\n      window.location.replace(\"/board\");\r\n    } catch(e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    const writeData = async () => {\r\n      try {\r\n        const response = await api.writeDetail(getWriteNum);\r\n        setWriteDetail(response.data);\r\n        console.log(38);\r\n        console.log(response.data);\r\n        console.log(response.data[0].boardName);\r\n        localStorage.setItem(\"Board\", response.data[0].boardName);\r\n        props.changeIsChange(!(props.isChange));\r\n      } catch(e)  {\r\n        console.log(e);\r\n      }\r\n    };\r\n    writeData();\r\n  },[isGoodChange]);\r\n  \r\n  return(\r\n    <div className=\"writedetail\">\r\n      {writeDetail && writeDetail.map(write => (\r\n        <>\r\n        <div className=\"wname\"> \r\n        <p>{write.writeName}</p>\r\n        <div className=\"writeprofile\">\r\n          {write.pfImg? <img className=\"writePfImg\" src={write.pfImg} alt=\"댓글 프로필 이미지\"/>:\r\n          <img className=\"writePfImg\" src={writeProfileImg} alt=\"게시글 기본 프로필 이미지\"/>}\r\n          <time>{write.writeDate}</time>\r\n          <h3 className=\"nickname\">{write.nickname}</h3>\r\n          {write.nickname == localStorage.getItem(\"userNickname\") && \r\n          <span className=\"writedelete\" onClick={()=>{\r\n            writeDelete()}}>삭제</span>}\r\n        </div>\r\n      </div>\r\n      <p className=\"wcontent\" >\r\n        {write.writeContent}\r\n        </p>\r\n      <ul className=\"status\">\r\n        <li className=\"good\">\r\n          <img src={goodIcon} alt=\"좋아요\"/>\r\n          <span>{write.countGood}</span>\r\n        </li>\r\n        <li className=\"comment\">\r\n          <img src={commentIcon} alt=\"댓글\"/>\r\n          <span>{write.countComments}</span>\r\n        </li>\r\n      </ul>\r\n      <button className=\"goodbtn\" onClick={onClickGood}>\r\n        <img src={tomatoIcon} alt=\"맥시멈토마토\"/>\r\n        <p>{write.countGood}</p>\r\n      </button>\r\n        </>\r\n        \r\n      ))}\r\n      <CommentList/>\r\n    </div>\r\n  );\r\n};\r\nexport default WriteDetail;"],"mappings":"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"},"metadata":{},"sourceType":"module"}